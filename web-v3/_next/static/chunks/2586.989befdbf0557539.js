"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2586],{2586:function(e,r,t){t.r(r),t.d(r,{default:function(){return u}});var l=t(5893),o=t(5650),a=t(6979),s=t(8250),c=t(7501),n=t(7690),d=t(7294),i=t(647),h=t(5152),p=t.n(h);function u(e){let{visible:r,onClose:h,onSubmit:u}=e,m=p()(async()=>(await t.e(2845).then(t.bind(t,2845))).User,{loadableGenerated:{webpack:()=>[2845]}}),x=p()(async()=>(await t.e(6957).then(t.bind(t,6957))).Lock,{loadableGenerated:{webpack:()=>[6957]}}),b=p()(async()=>(await t.e(7557).then(t.bind(t,7557))).EmailOutline,{loadableGenerated:{webpack:()=>[7557]}}),[w,f]=(0,d.useState)({nickname:"",email:"",password:"",comfirmpwd:""}),[g,j]=(0,d.useState)(!1),[y,Z]=(0,d.useState)(0),k=async e=>{e&&e.length>3?(j(!0),i.WY.get("/api/checkName",{username:e}).then(e=>{Z(e&&e.data?0:1),j(!1)}).catch(()=>j(!1))):Z(2)},P=e=>e.match(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}$/i),C=(0,d.useMemo)(()=>{if(!w.email)return{text:"",color:""};let e=P(w.email);return{text:e?"":"邮箱格式不正确",color:e?"primary":"error"}},[w.email]),z=(0,d.useMemo)(()=>({text:0==y?"":1==y?"昵称已被使用":"昵称需大于三个字符",color:0==y?"":"error"}),[y]),v=(0,d.useMemo)(()=>{if(!w.password)return{text:"",color:""};let e=w.password.length>4&&32>w.password.length;return{text:e?"":"5-32个字符之间",color:e?"primary":"error"}},[w.password]),L=(0,d.useMemo)(()=>{if(!w.comfirmpwd||!w.password)return{text:"",color:""};let e=w.comfirmpwd===w.password;return{text:e?"":"两次密码不一致",color:e?"primary":"error"}},[w.comfirmpwd,w.password]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.ZP.Header,{children:(0,l.jsx)(a.Z,{size:18,children:"注册"})}),(0,l.jsxs)(o.ZP.Body,{css:{gap:"$sm",minHeight:"310px"},children:[(0,l.jsx)(s.ZP,{required:!0,clearable:!0,bordered:!0,fullWidth:!0,size:"lg",placeholder:"用户名",status:z.color,color:z.color,helperColor:z.color,helperText:z.text,"aria-labelledby":"modal-title",contentLeft:(0,l.jsx)(m,{}),contentRight:g&&(0,l.jsx)(c.ZP,{size:"xs"}),onChange:e=>f({...w,nickname:e.target.value}),onBlur:()=>k(w.nickname)}),(0,l.jsx)(s.ZP,{clearable:!0,bordered:!0,fullWidth:!0,size:"lg",placeholder:"邮箱",status:C.color,color:C.color,helperColor:C.color,helperText:C.text,"aria-labelledby":"modal-title",contentLeft:(0,l.jsx)(b,{}),onChange:e=>f({...w,email:e.target.value})}),(0,l.jsx)(s.ZP.Password,{clearable:!0,bordered:!0,fullWidth:!0,type:"password",size:"lg",placeholder:"密码",status:v.color,color:v.color,helperColor:v.color,helperText:v.text,"aria-labelledby":"modal-title",contentLeft:(0,l.jsx)(x,{}),onChange:e=>f({...w,password:e.target.value})}),(0,l.jsx)(s.ZP.Password,{clearable:!0,bordered:!0,fullWidth:!0,type:"password",size:"lg",placeholder:"确认密码",status:L.color,color:L.color,helperColor:L.color,helperText:L.text,"aria-labelledby":"modal-title",contentLeft:(0,l.jsx)(x,{}),onChange:e=>f({...w,comfirmpwd:e.target.value})})]}),(0,l.jsx)(o.ZP.Footer,{justify:"center",children:(0,l.jsx)(n.ZP,{rounded:!0,auto:!0,onPress:()=>u(w),css:{width:"50%"},children:"注 册"})})]})}}}]);