(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8992],{29754:function(e,r,t){"use strict";t.d(r,{L:function(){return _}});var n=t(59499),s=t(50029),o=t(87794),a=t.n(o),i=t(96193),c=t(45650),l=t(86979),u=t(68250),d=t(39372),p=t(34017),m=t(27690),f=t(97501),x=t(99025),h=t(97566),b=t(17055),g=t.n(b),j=t(67294),v=t(11187),y=t(95516),P=t(5152),w=t.n(P),k=t(85893);function Z(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function O(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Z(Object(t),!0).forEach(function(r){(0,n.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var _=function(e){var r=e.isLinkPage,n=void 0!==r&&r,o=e.coverProps,b=(0,j.useState)(!1),P=b[0],Z=b[1],_=(0,j.useState)(!1),N=_[0],C=_[1],z=(0,j.useState)(!1),S=z[0],A=z[1],E=w()((0,s.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(2431),t.e(7557)]).then(t.bind(t,97557));case 2:return e.abrupt("return",e.sent.EmailOutline);case 3:case"end":return e.stop()}},e)})),{loadableGenerated:{webpack:function(){return[97557]}}}),D=(0,j.useState)({blogName:"",blogAddress:"",pictureAddress:"",email:"",detail:""}),L=D[0],B=D[1],G=function(){Z(!0),console.log("add>>>>>")},T=function(){if(A(!0),L.email&&!$(L.email))return v.ZP.error("请检查邮箱格式~");L.blogName&&L.blogAddress&&L.pictureAddress&&(C(!0),A(!1),y.WY.post("/api/friend/save",L).then(function(e){e.success?(v.ZP.success("提交成功，请确保自己网站已添加本站为友链哦~"),Z(!1)):v.ZP.error(e.message),C(!1)}).catch(function(){return C(!1)}))},$=function(e){return e.match(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}$/i)},R=(0,j.useMemo)(function(){if(!L.email)return{text:"",color:""};var e=$(L.email);return{text:e&&!S?"":"邮箱格式不正确",color:e&&!S?"primary":"error"}},[L.email,S]),W=(0,j.useMemo)(function(){return L.blogAddress||S?{text:L.blogAddress?"":"请输入友链地址",color:L.blogAddress?"primary":"error"}:{text:"",color:""}},[L.blogAddress,S]),I=(0,j.useMemo)(function(){return L.blogName||S?{text:L.blogName?"":"请输入友链名称",color:L.blogName?"primary":"error"}:{text:"",color:""}},[L.blogName,S]),q=(0,j.useMemo)(function(){return L.pictureAddress||S?{text:L.pictureAddress?"":"请输入友链图标地址",color:L.pictureAddress?"primary":"error"}:{text:"",color:""}},[L.pictureAddress,S]);return(0,k.jsx)(h.B,O(O({},void 0===o?{}:o),{},{content:(0,k.jsxs)("div",{className:g()["k-about-content"],children:[!n&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("h4",{children:"Tips："}),(0,k.jsx)("p",{children:"请使用真实的邮箱，不要打广告，引流什么的，一旦发现会被删除的，谢谢。"})]}),(0,k.jsxs)("p",{children:["友链添加：",(0,k.jsx)(i.ZP,{onPress:function(){return G()},css:{margin:"0 10px 0 0"},children:"请戳此处"}),"输入友链信息提交即可。请注意提交时请在自己网站把本站添加为友链哦~"]}),(0,k.jsx)(x.J,{className:g()["k-about-main-markdown"],content:"\n        blogName: 'KASUIEの次元'  #网站的名称\n        blogAddress: 'https://kasuie.top' #网站的地址\n        pictureAddress: 'https://i.loli.net/2020/11/19/hY1NXDLvmkRptTi.jpg' #网站的图标/或你的头像\n        detail: '喜欢温柔的人' #网站的描述\n    "}),!n&&(0,k.jsx)("p",{children:"私信：你可以在PC端左侧查看到我的联系方式，或者在下方留言并勾选“私密评论”。"}),(0,k.jsxs)(c.ZP,{closeButton:!0,blur:!0,preventClose:!0,"aria-labelledby":"apply filendlink",width:"500px",open:P,onClose:function(){Z(!1)},css:{maxWidth:"94vw",margin:"0 auto"},children:[(0,k.jsx)(c.ZP.Header,{children:(0,k.jsx)(l.Z,{size:18,children:"友链信息"})}),(0,k.jsxs)(c.ZP.Body,{css:{gap:"$sm"},children:[(0,k.jsx)(u.ZP,{required:!0,clearable:!0,bordered:!0,fullWidth:!0,"aria-labelledby":"modal-title",size:"lg",placeholder:"友链名称",status:I.color,color:I.color,helperColor:I.color,helperText:I.text,onChange:function(e){B(O(O({},L),{},{blogName:e.target.value}))}}),(0,k.jsx)(u.ZP,{required:!0,clearable:!0,bordered:!0,fullWidth:!0,"aria-labelledby":"modal-title",size:"lg",placeholder:"友链地址",status:W.color,color:W.color,helperColor:W.color,helperText:W.text,onChange:function(e){B(O(O({},L),{},{blogAddress:e.target.value}))}}),(0,k.jsx)(u.ZP,{required:!0,clearable:!0,bordered:!0,fullWidth:!0,"aria-labelledby":"modal-title",size:"lg",placeholder:"友链图标",status:q.color,color:q.color,helperColor:q.color,helperText:q.text,contentLeft:L.pictureAddress&&(0,k.jsx)(d.ZP,{size:"sm",src:L.pictureAddress,pointer:!0}),onBlur:function(e){B(O(O({},L),{},{pictureAddress:e.target.value}))}}),(0,k.jsx)(u.ZP,{required:!0,clearable:!0,bordered:!0,fullWidth:!0,size:"lg",placeholder:"联系邮箱（非必填，添加成功后会发邮件给你）",status:R.color,color:R.color,helperColor:R.color,helperText:R.text,"aria-labelledby":"modal-title",contentLeft:(0,k.jsx)(E,{}),onChange:function(e){A(!1),B(O(O({},L),{},{email:e.target.value}))}}),(0,k.jsx)(p.Z,{required:!0,bordered:!0,fullWidth:!0,maxLength:100,color:"primary",size:"lg","aria-labelledby":"modal-title",placeholder:"友链描述",onChange:function(e){B(O(O({},L),{},{detail:e.target.value}))},minRows:2,maxRows:5})]}),(0,k.jsxs)(c.ZP.Footer,{justify:"flex-end",children:[(0,k.jsx)(m.ZP,{auto:!0,flat:!0,color:"error",onPress:function(){return Z(!1)},children:"关闭"}),(0,k.jsx)(m.ZP,{auto:!0,onPress:function(){return T()},icon:N&&(0,k.jsx)(f.ZP,{color:"currentColor",size:"xs"}),children:"提交"})]})]})]})}))}},99025:function(e,r,t){"use strict";t.d(r,{J:function(){return b}});var n=t(59499),s=t(4730),o=t(41157),a=t(45146),i=t(76199),c=t(93179),l=t(84283),u=t(97501),d=t(39837),p=t(71455);t(62428);var m=t(85893),f=["node","inline","className","children"];function x(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function h(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?x(Object(t),!0).forEach(function(r){(0,n.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var b=function(e){var r=e.content;return(0,m.jsx)(o.D,{children:r,rehypePlugins:[a.Z],remarkPlugins:[i.Z],components:{code:function(e){e.node;var r=e.inline,t=e.className,n=e.children,o=(0,s.Z)(e,f),a=/language-(\w+)/.exec(t||"");return!r&&a?(0,m.jsx)(c.Z,h(h({},o),{},{children:String(n).replace(/\n$/,""),style:l.vk,language:a[1],PreTag:"div"})):(0,m.jsx)("code",h(h({},o),{},{className:t,children:n}))},img:function(e){var r=e.src,t=e.alt;return(0,m.jsx)(p.TV,{maskOpacity:.7,loadingElement:(0,m.jsx)(u.ZP,{children:"加载中..."}),children:(0,m.jsx)(p.HI,{src:r,children:(0,m.jsx)(d.ZP,{showSkeleton:!0,src:r,alt:t,loading:"lazy",objectFit:"cover",css:{cursor:"pointer",maxHeight:"320px",borderRadius:"5px",padding:"2px"}})})},t)}}})}},63588:function(e,r,t){"use strict";t.d(r,{r:function(){return er}});var n=t(59499),s=t(43165),o=t(86979),a=t(67294),i=t(50029),c=t(87794),l=t.n(c),u=t(64040),d=t(70967),p=t(27690),m=t(42495),f=t(30381),x=t.n(f),h=t(35596),b=t.n(h),g=t(5152),j=t.n(g),v=t(85893),y=j()((0,i.Z)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(6456).then(t.bind(t,56456));case 2:return e.abrupt("return",e.sent.DeleteItem);case 3:case"end":return e.stop()}},e)})),{loadableGenerated:{webpack:function(){return[56456]}}}),P=j()((0,i.Z)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(2431),t.e(4980)]).then(t.bind(t,34980));case 2:return e.abrupt("return",e.sent.Windows);case 3:case"end":return e.stop()}},e)})),{loadableGenerated:{webpack:function(){return[34980]}}}),w=j()((0,i.Z)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(2431),t.e(4095)]).then(t.bind(t,44095));case 2:return e.abrupt("return",e.sent.Chrome);case 3:case"end":return e.stop()}},e)})),{loadableGenerated:{webpack:function(){return[44095]}}}),k=j()((0,i.Z)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(2431),t.e(4225)]).then(t.bind(t,44225));case 2:return e.abrupt("return",e.sent.Android);case 3:case"end":return e.stop()}},e)})),{loadableGenerated:{webpack:function(){return[44225]}}}),Z=j()((0,i.Z)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(2431),t.e(401)]).then(t.bind(t,90401));case 2:return e.abrupt("return",e.sent.Apple);case 3:case"end":return e.stop()}},e)})),{loadableGenerated:{webpack:function(){return[90401]}}}),O=j()((0,i.Z)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(2431),t.e(7940)]).then(t.bind(t,87940));case 2:return e.abrupt("return",e.sent.Opera);case 3:case"end":return e.stop()}},e)})),{loadableGenerated:{webpack:function(){return[87940]}}}),_=j()((0,i.Z)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(2431),t.e(2756)]).then(t.bind(t,72756));case 2:return e.abrupt("return",e.sent.Firefox);case 3:case"end":return e.stop()}},e)})),{loadableGenerated:{webpack:function(){return[72756]}}}),N=j()((0,i.Z)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(2431),t.e(4256)]).then(t.bind(t,84256));case 2:return e.abrupt("return",e.sent.InternetExplorer);case 3:case"end":return e.stop()}},e)})),{loadableGenerated:{webpack:function(){return[84256]}}}),C=j()((0,i.Z)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(2431),t.e(7832)]).then(t.bind(t,77832));case 2:return e.abrupt("return",e.sent.Linux);case 3:case"end":return e.stop()}},e)})),{loadableGenerated:{webpack:function(){return[77832]}}}),z=j()((0,i.Z)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(2431),t.e(3314)]).then(t.bind(t,83314));case 2:return e.abrupt("return",e.sent.Safari);case 3:case"end":return e.stop()}},e)})),{loadableGenerated:{webpack:function(){return[83314]}}}),S=j()((0,i.Z)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(2431),t.e(6014)]).then(t.bind(t,46014));case 2:return e.abrupt("return",e.sent.Edge);case 3:case"end":return e.stop()}},e)})),{loadableGenerated:{webpack:function(){return[46014]}}}),A=j()((0,i.Z)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(2431),t.e(6918)]).then(t.bind(t,16918));case 2:return e.abrupt("return",e.sent.Verified);case 3:case"end":return e.stop()}},e)})),{loadableGenerated:{webpack:function(){return[16918]}}}),E=j()((0,i.Z)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(2431),t.e(5769)]).then(t.bind(t,35769));case 2:return e.abrupt("return",e.sent.LaptopMac);case 3:case"end":return e.stop()}},e)})),{loadableGenerated:{webpack:function(){return[35769]}}}),D=j()((0,i.Z)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(2431),t.e(9321)]).then(t.bind(t,39321));case 2:return e.abrupt("return",e.sent.RibbonStar);case 3:case"end":return e.stop()}},e)})),{loadableGenerated:{webpack:function(){return[39321]}}}),L=j()((0,i.Z)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(2431),t.e(2450)]).then(t.bind(t,92450));case 2:return e.abrupt("return",e.sent.CommentError);case 3:case"end":return e.stop()}},e)})),{loadableGenerated:{webpack:function(){return[92450]}}}),B=j()((0,i.Z)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(2431),t.e(8797)]).then(t.bind(t,88797));case 2:return e.abrupt("return",e.sent.SendClock);case 3:case"end":return e.stop()}},e)})),{loadableGenerated:{webpack:function(){return[88797]}}}),G=function(e){var r=e||{},t=r.data,n=r.id,a=r.typeReply,i=r.onProxy,c=r.disabled,l=r.user,f=function(e){var r=!(arguments.length>1)||void 0===arguments[1]||arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,n=e.toLowerCase();if(r){if(n.includes("windows"))return(0,v.jsx)(P,{size:t});if(n.includes("android"))return(0,v.jsx)(k,{size:t});if(n.includes("iphone"))return(0,v.jsx)(Z,{size:t});if(n.includes("linux"))return(0,v.jsx)(C,{size:t});else if(n.includes("mac"))return(0,v.jsx)(E,{size:t});else if(n.includes("Unix"))return(0,v.jsx)(C,{size:t})}else{if(n.includes("opera"))return(0,v.jsx)(O,{size:t});if(n.includes("edge"))return(0,v.jsx)(S,{size:t});if(n.includes("chrome"))return(0,v.jsx)(w,{size:t});if(n.includes("firefox"))return(0,v.jsx)(_,{size:t});else if(n.includes("safari"))return(0,v.jsx)(z,{size:t});else if(n.includes("ie"))return(0,v.jsx)(N,{size:t})}return""};return(0,v.jsxs)(s.Z,{id:n,gap:0,justify:"flex-start",className:b()["message-item"],children:[(0,v.jsx)(u.Z,{gap:1,css:{marginBottom:"$xs"},className:b()["message-item-header"],children:(0,v.jsx)(d.ZP,{className:b()["message-item-user"],size:"lg",pointer:!0,bordered:!0,zoomed:!0,color:"primary",src:t.avatar?"https://kasuie.cc".concat(t.avatar):"https://cdn.staticaly.com/gh/pixlips/picx-images-hosting@master/avatar/default.1srjnccqnby8.webp",text:t.nickname,description:x()(t.createTime).format("YYYY-MM-DD HH:mm:ss a dddd"),name:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(o.Z,{css:{display:"flex",alignItems:"center",gap:"5px",fontWeight:"600"},children:[(0,v.jsx)(o.Z,{span:!0,children:t.nickname}),t.uid>=0?t.isAdmin?(0,v.jsx)(A,{size:16}):(0,v.jsx)(D,{size:16}):null]}),t.os||t.browser?(0,v.jsxs)(o.Z,{className:b()["message-item-meta-device"],children:[t.os?(0,v.jsxs)(o.Z,{span:!0,children:[t.os,f(t.os)]}):null,t.browser?(0,v.jsxs)(o.Z,{span:!0,children:[t.browser,f(t.browser,!1)]}):null]}):null]})})}),(0,v.jsx)(u.Z,{gap:1,className:b()["message-item-content"],children:(0,v.jsx)(o.Z,{css:{paddingLeft:"$3xl",display:"flex",alignItems:"center",flexWrap:"wrap",gap:"5px"},children:t.isPrivate?l&&l.uid==t.uid||l&&!(l.level<2)?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(B,{size:16}),(0,v.jsx)(o.Z,{span:!0,children:t.content})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(L,{size:16}),(0,v.jsx)(o.Z,{span:!0,children:"该评论为私密评论，仅评论双方可见"})]}):t.content})}),!c&&!(t.isPrivate&&(!l||l.uid!=t.uid)&&(!l||l.level<2))&&(0,v.jsxs)(u.Z,{className:b()["message-item-button"],gap:1,css:{padding:"$sm 0 $sm $3xl",gap:"$sm"},children:[(0,v.jsx)(p.ZP,{auto:!0,ghost:!0,rounded:!0,size:"xs",color:"primary",onPress:function(){return a(n,t.nickname)},children:"Reply"}),l&&(l.level>2||t.uid===l.uid)&&(0,v.jsx)(m.ZP,{placement:"bottom",trigger:"click",content:(0,v.jsx)(y,{onConfirm:function(){return i("delete",t)}}),children:(0,v.jsx)(p.ZP,{auto:!0,ghost:!0,rounded:!0,size:"xs",color:"error",children:"Delete"})})]})]})},T=t(25972),$=t(22553),R=t(34017),W=t(68250),I=t(97501),q=t(76322),F=t(95516),M=t(27489),Y=t(21109),J=t.n(Y);function H(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function U(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?H(Object(t),!0).forEach(function(r){(0,n.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var V=function(e){var r,t=e||{},n=(t.data,t.id,t.onSubmit),s=t.onCancle,c=t.parentId,u=t.isLoading,d=t.user,f=(0,T.Z)(""),x=f.value,h=f.reset,b=f.bindings,g=(0,a.useState)(""),j=g[0],y=g[1],P=(0,a.useState)(""),w=P[0],k=P[1],Z=(0,a.useState)(""),O=Z[0],_=Z[1],N=(0,a.useState)(""),C=N[0],z=N[1],S=(0,a.useState)(0),A=S[0],E=S[1],D=(0,a.useState)(!0),L=D[0],B=D[1],G=(0,a.useState)(!1),Y=G[0],H=G[1],V=(0,a.useState)(!1),K=V[0],X=V[1];(0,a.useEffect)(function(){if(d){var e=d||{},r=e.username,t=e.email;k(r),_(t)}},[d]);var Q=(0,a.useMemo)(function(){if(!O)return{text:"",color:""};var e=O.match(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}$/i);return{text:e?"":"邮箱格式不正确",color:e?"primary":"error"}},[O]),ee=(r=(0,i.Z)(l().mark(function e(r){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r?(H(!0),F.WY.get("/api/checkName",{username:r}).then(function(e){E(e&&e.data?0:1),H(!1)}).catch(function(){return H(!1)})):E(2);case 1:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),er=(0,a.useMemo)(function(){return{text:0==A?"":1==A?"昵称已被占用":"请输入昵称",color:0==A?"primary":"error"}},[A]),et=(0,a.useMemo)(function(){return{text:L?"":"请输入内容",color:L?"primary":"error"}},[L]),en=function(){B(!!j),w||E(2),w&&j&&n&&n({uid:d&&d.uid||-1,content:j,nickname:w,avatar:d&&d.avatar||null,email:O,site:x,isPrivate:K,browser:(0,M.Xh)(),os:(0,M.Ij)()})};return(0,v.jsxs)($.ZP.Container,{id:"respond",gap:2,css:{padding:"0 $2"},className:J()["k-leave"],children:[(0,v.jsxs)($.ZP,{xs:12,alignItems:"center",css:{paddingBottom:"$lg"},children:[(0,v.jsx)(o.Z,{h4:!0,css:{marginBottom:"0"},children:"留下你的评论吧"}),-1!=c&&(0,v.jsx)(p.ZP,{auto:!0,bordered:!0,color:"error",size:"xs",css:{marginLeft:"$md"},onPress:function(){s&&s()},children:"取消评论"})]}),(0,v.jsx)($.ZP,{xs:12,css:{marginBottom:"$sm"},children:(0,v.jsx)(R.Z,{required:!0,bordered:!0,fullWidth:!0,maxLength:2e3,status:et.color||"primary",color:et.color,helperColor:et.color,helperText:et.text,labelPlaceholder:"说点什么吧 o(〃＾▽＾〃)o",minRows:5,maxRows:12,onChange:function(e){return y(e.target.value)},onBlur:function(){return B(!!j)}})}),(0,v.jsx)($.ZP,{xs:2.8,className:J()["k-leave-input"],children:(0,v.jsx)(W.ZP,{required:!0,underlined:!0,fullWidth:!0,value:w,labelPlaceholder:"Name",status:er.color||"primary",color:er.color,helperColor:er.color,helperText:er.text,contentRight:Y&&(0,v.jsx)(I.ZP,{size:"xs"}),onClearClick:function(){return k("")},onChange:function(e){return k(e.target.value)},onBlur:function(){d&&d.username==w||ee(w)}})}),(0,v.jsx)($.ZP,{xs:2.8,className:J()["k-leave-input"],children:(0,v.jsx)(W.ZP,{value:O,clearable:!0,required:!0,underlined:!0,fullWidth:!0,type:"email",labelPlaceholder:"Email",status:Q.color||"primary",color:Q.color,helperColor:Q.color,helperText:Q.text,onClearClick:function(){return _("")},onChange:function(e){return _(e.target.value)}})}),(0,v.jsx)($.ZP,{xs:2.8,className:J()["k-leave-input"],children:(0,v.jsx)(W.ZP,U(U({},b),{},{clearable:!0,required:!0,underlined:!0,fullWidth:!0,labelPlaceholder:"Site",labelLeft:C,status:"primary",onClearClick:h,onFocus:function(){return z("http(s)://")},onBlur:function(){return z("")}}))}),(0,v.jsxs)($.ZP,{xs:3.6,className:J()["k-leave-button"],justify:"flex-end",children:[(0,v.jsx)(m.ZP,{content:"私密评论仅自己和对方可见",trigger:"hover",children:(0,v.jsx)(q.ZP,{color:"primary",labelColor:"primary",size:"xs",onChange:function(e){X(e)},css:{marginRight:"$sm"},children:"私密"})}),(0,v.jsx)(p.ZP,{color:"primary",auto:!0,onPress:function(){return!Y&&en()},icon:(Y||u)&&(0,v.jsx)(I.ZP,{color:"currentColor",size:"xs"}),children:"Leave a Comment"})]})]})},K=t(94712),X=t.n(K);function Q(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function ee(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Q(Object(t),!0).forEach(function(r){(0,n.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Q(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var er=function(e){var r=e||{},t=r.data,n=r.maps,i=r.isLoading,c=r.onProxy,l=r.title,u=r.disabled,d=r.user,p=Object.keys(n),m=(0,a.useState)(-1),f=m[0],x=m[1],h=(0,a.useState)(""),b=h[0],g=h[1];(0,a.useEffect)(function(){var r=e.activeId;setTimeout(function(){r&&j(0,r)},100)},[e]);var j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0,t=r?w("comment-".concat(r)):null,n=document&&document.getElementsByTagName("html")[0];n&&n.scrollTo({top:r?t?t.offsetTop+100:0:e,behavior:"smooth"})},y=function e(r,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)for(var s in t)r[t[s]]=r[s];return n?Object.assign({},r):r.map(function(r){return p.forEach(function(e){r[e]=r["".concat(t[e])]}),r.replys&&r.replys.length&&(r.replys=e(r.replys,t)),r})},P=function(e,r,t){if(f!=r){x(r),g(t);var n=w("respond");w(e).append(n)}},w=function(e){return document.getElementById(e)};return n&&p.length&&t&&t.length&&(t=y(t,n)),(0,v.jsxs)(s.Z,{gap:0,display:"flex",direction:"column",justify:"center",css:{gap:"$md",padding:"$lg 0"},className:X()["k-messages-main"],children:[!u&&(0,v.jsx)(V,{onSubmit:function(e){c("submit",e=y(ee(ee({},e),{},{parentId:f,parentName:b}),n,!0))},onCancle:function(){x(-1),g("");var e=w("comments-tips"),r=w("respond");e.parentNode.insertBefore(r,e)},parentId:f,isLoading:i,user:d}),(0,v.jsx)(o.Z,{h3:!0,id:"comments-tips",children:t&&t.length?"已有".concat(t.length,"条").concat(l||"评论"):"暂无评论"}),t&&t.map(function(e,r){return(0,v.jsxs)("div",{className:X()["k-messages-main-item"],children:[(0,v.jsx)(G,{id:"comment-".concat(e.id),data:e,user:d,typeReply:function(r,t){return P(r,e.id,t)},onProxy:c},"m".concat(r)),e.replys&&e.replys.length?(0,v.jsx)("div",{className:X()["k-messages-main-item-child"],children:e.replys.map(function(r,t){return(0,v.jsx)(G,{id:"comment-".concat(r.id),data:r,user:d,disabled:u,typeReply:function(e,t){return P(e,r.id,t)},onProxy:c},"mm".concat(e.id).concat(r.id).concat(t))})},"c".concat(e.id)):null]},"".concat(r))})]})}},97566:function(e,r,t){"use strict";t.d(r,{B:function(){return l}});var n=t(43950),s=t(25675),o=t.n(s),a=t(22893),i=t.n(a),c=t(85893),l=function(e){var r=e.content,t=e.header,s=e.cover,a=e.hiddenProgress;return(0,c.jsxs)("div",{className:i()["k-top"],children:[(0,c.jsxs)("div",{className:"".concat(i()["k-top-cover"]," ").concat(t?i()["k-top-cover-has"]:""),children:[(0,c.jsx)(o(),{className:i()["k-top-cover"],fill:!0,sizes:"100%",src:s||"https://cdn.staticaly.com/gh/pixlips/picx-images-hosting@master/next/UwkpdyfvRr1nVKj.13dp8z42m4zk.webp",alt:"kasuie page cover",style:{objectFit:"cover"}}),t]}),(0,c.jsxs)("div",{className:i()["k-top-main"],children:[r,!(void 0!==a&&a)&&(0,c.jsx)(n.ZP,{color:"primary",size:"xs",value:100,css:{margin:"20px 0"}})]})]})}},17055:function(e){e.exports={"k-about-content":"index_k-about-content__f_Uq1"}},94712:function(e){e.exports={"k-messages-main-item-child":"index_k-messages-main-item-child__Y5Rfx"}},35596:function(e){e.exports={"message-item-user":"index_message-item-user__INBPi","message-item-meta-device":"index_message-item-meta-device__sTJNk","message-item":"index_message-item__m6yjJ","message-item-header":"index_message-item-header__RaX_y","message-item-content":"index_message-item-content__nvr7K","message-item-button":"index_message-item-button__gUzZB"}},21109:function(e){e.exports={"k-leave-input":"index_k-leave-input__ldr0F","k-leave-button":"index_k-leave-button__Obywp"}},22893:function(e){e.exports={"k-top":"index_k-top__JCoCl","k-top-cover":"index_k-top-cover__qh5tO","k-top-cover-has":"index_k-top-cover-has__LhE1J","k-top-main":"index_k-top-main__hAbdV"}}}]);