(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4644],{29754:function(e,r,t){"use strict";t.d(r,{L:function(){return O}});var n=t(59499),i=t(50029),o=t(87794),s=t.n(o),c=t(96193),a=t(45650),l=t(86979),d=t(68250),u=t(39372),p=t(34017),f=t(27690),x=t(97501),h=t(99025),m=t(97566),b=t(17055),g=t.n(b),k=t(67294),j=t(11187),v=t(95516),y=t(5152),_=t.n(y),P=t(85893);function Z(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function w(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Z(Object(t),!0).forEach(function(r){(0,n.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var O=function(e){var r=e.isLinkPage,n=void 0!==r&&r,o=e.coverProps,b=(0,k.useState)(!1),y=b[0],Z=b[1],O=(0,k.useState)(!1),A=O[0],N=O[1],S=(0,k.useState)(!1),C=S[0],E=S[1],z=_()((0,i.Z)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(2431),t.e(7557)]).then(t.bind(t,97557));case 2:return e.abrupt("return",e.sent.EmailOutline);case 3:case"end":return e.stop()}},e)})),{loadableGenerated:{webpack:function(){return[97557]}}}),W=(0,k.useState)({blogName:"",blogAddress:"",pictureAddress:"",email:"",detail:""}),D=W[0],L=W[1],T=function(){Z(!0),console.log("add>>>>>")},q=function(){if(E(!0),D.email&&!I(D.email))return j.ZP.error("请检查邮箱格式~");D.blogName&&D.blogAddress&&D.pictureAddress&&(N(!0),E(!1),v.WY.post("/api/friend/save",D).then(function(e){e.success?(j.ZP.success("提交成功，请确保自己网站已添加本站为友链哦~"),Z(!1)):j.ZP.error(e.message),N(!1)}).catch(function(){return N(!1)}))},I=function(e){return e.match(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}$/i)},R=(0,k.useMemo)(function(){if(!D.email)return{text:"",color:""};var e=I(D.email);return{text:e&&!C?"":"邮箱格式不正确",color:e&&!C?"primary":"error"}},[D.email,C]),B=(0,k.useMemo)(function(){return D.blogAddress||C?{text:D.blogAddress?"":"请输入友链地址",color:D.blogAddress?"primary":"error"}:{text:"",color:""}},[D.blogAddress,C]),M=(0,k.useMemo)(function(){return D.blogName||C?{text:D.blogName?"":"请输入友链名称",color:D.blogName?"primary":"error"}:{text:"",color:""}},[D.blogName,C]),U=(0,k.useMemo)(function(){return D.pictureAddress||C?{text:D.pictureAddress?"":"请输入友链图标地址",color:D.pictureAddress?"primary":"error"}:{text:"",color:""}},[D.pictureAddress,C]);return(0,P.jsx)(m.B,w(w({},void 0===o?{}:o),{},{content:(0,P.jsxs)("div",{className:g()["k-about-content"],children:[!n&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("h4",{children:"Tips："}),(0,P.jsx)("p",{children:"请使用真实的邮箱，不要打广告，引流什么的，一旦发现会被删除的，谢谢。"})]}),(0,P.jsxs)("p",{children:["友链添加：",(0,P.jsx)(c.ZP,{onPress:function(){return T()},css:{margin:"0 10px 0 0"},children:"请戳此处"}),"输入友链信息提交即可。请注意提交时请在自己网站把本站添加为友链哦~"]}),(0,P.jsx)(h.J,{className:g()["k-about-main-markdown"],content:"\n        blogName: 'KASUIEの次元'  #网站的名称\n        blogAddress: 'https://kasuie.top' #网站的地址\n        pictureAddress: 'https://i.loli.net/2020/11/19/hY1NXDLvmkRptTi.jpg' #网站的图标/或你的头像\n        detail: '喜欢温柔的人' #网站的描述\n    "}),!n&&(0,P.jsx)("p",{children:"私信：你可以在PC端左侧查看到我的联系方式，或者在下方留言并勾选“私密评论”。"}),(0,P.jsxs)(a.ZP,{closeButton:!0,blur:!0,preventClose:!0,"aria-labelledby":"apply filendlink",width:"500px",open:y,onClose:function(){Z(!1)},css:{maxWidth:"94vw",margin:"0 auto"},children:[(0,P.jsx)(a.ZP.Header,{children:(0,P.jsx)(l.Z,{size:18,children:"友链信息"})}),(0,P.jsxs)(a.ZP.Body,{css:{gap:"$sm"},children:[(0,P.jsx)(d.ZP,{required:!0,clearable:!0,bordered:!0,fullWidth:!0,"aria-labelledby":"modal-title",size:"lg",placeholder:"友链名称",status:M.color,color:M.color,helperColor:M.color,helperText:M.text,onChange:function(e){L(w(w({},D),{},{blogName:e.target.value}))}}),(0,P.jsx)(d.ZP,{required:!0,clearable:!0,bordered:!0,fullWidth:!0,"aria-labelledby":"modal-title",size:"lg",placeholder:"友链地址",status:B.color,color:B.color,helperColor:B.color,helperText:B.text,onChange:function(e){L(w(w({},D),{},{blogAddress:e.target.value}))}}),(0,P.jsx)(d.ZP,{required:!0,clearable:!0,bordered:!0,fullWidth:!0,"aria-labelledby":"modal-title",size:"lg",placeholder:"友链图标",status:U.color,color:U.color,helperColor:U.color,helperText:U.text,contentLeft:D.pictureAddress&&(0,P.jsx)(u.ZP,{size:"sm",src:D.pictureAddress,pointer:!0}),onBlur:function(e){L(w(w({},D),{},{pictureAddress:e.target.value}))}}),(0,P.jsx)(d.ZP,{required:!0,clearable:!0,bordered:!0,fullWidth:!0,size:"lg",placeholder:"联系邮箱（非必填，添加成功后会发邮件给你）",status:R.color,color:R.color,helperColor:R.color,helperText:R.text,"aria-labelledby":"modal-title",contentLeft:(0,P.jsx)(z,{}),onChange:function(e){E(!1),L(w(w({},D),{},{email:e.target.value}))}}),(0,P.jsx)(p.Z,{required:!0,bordered:!0,fullWidth:!0,maxLength:100,color:"primary",size:"lg","aria-labelledby":"modal-title",placeholder:"友链描述",onChange:function(e){L(w(w({},D),{},{detail:e.target.value}))},minRows:2,maxRows:5})]}),(0,P.jsxs)(a.ZP.Footer,{justify:"flex-end",children:[(0,P.jsx)(f.ZP,{auto:!0,flat:!0,color:"error",onPress:function(){return Z(!1)},children:"关闭"}),(0,P.jsx)(f.ZP,{auto:!0,onPress:function(){return q()},icon:A&&(0,P.jsx)(x.ZP,{color:"currentColor",size:"xs"}),children:"提交"})]})]})]})}))}},18246:function(e,r,t){"use strict";t.d(r,{k:function(){return f}});var n=t(96193),i=t(86979),o=t(39372),s=t(67294),c=t(9594),a=t.n(c),l=t(95516),d=t(11187),u=t(40077),p=t(85893),f=function(e){var r=e.link,t=(0,s.useState)(!1),c=t[0],f=t[1],x=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t){var n=u.Z.l.get("user",!0);n&&n.level>1?l.WY.postQs("/api/friend/status",{id:e,status:1,notice:!0}).then(function(e){d.ZP.success(e.message)}):d.ZP.error("权限不足")}else c&&e&&r?window.open(r,"_blank"):e&&r?(l.WY.postQs("/api/friend/view",{id:e}).then(function(){window.open(r,"_blank")}).catch(function(){return window.open(r,"_blank")}),f(!0)):d.ZP.info("缺少关键信息，跳转失败~")};return(0,p.jsxs)("div",{className:a()["k-link-card"],children:[(0,p.jsxs)("div",{className:a()["k-link-card-info-hover"],children:[(0,p.jsx)("i",{className:a()["k-link-card-info-like"]}),(0,p.jsx)(n.ZP,{className:a()["k-link-card-info-enter"],color:"primary",isExternal:!0,css:{fontSize:"14px"},onPress:function(){return x(r.id,r.blogAddress,0===r.status)},children:0===r.status?"审批通过":"点击前往"})]}),(0,p.jsx)(i.Z,{className:a()["k-link-card-desc"],children:r.detail}),(0,p.jsx)("div",{className:a()["k-link-card-img-hover"],style:{backgroundImage:"url('".concat(r.pictureAddress,"')")}}),(0,p.jsxs)("div",{className:a()["k-link-card-info"],onClick:function(){return x(r.id,r.blogAddress)},children:[(0,p.jsx)(o.ZP,{size:"md",src:r.pictureAddress,color:"primary",bordered:!0,zoomed:!0,pointer:!0}),(0,p.jsx)(i.Z,{children:r.blogName})]})]})}},99025:function(e,r,t){"use strict";t.d(r,{J:function(){return g}});var n=t(59499),i=t(4730),o=t(41157),s=t(45146),c=t(76199),a=t(93179),l=t(84283),d=t(97501),u=t(39837),p=t(96193),f=t(71455);t(62428);var x=t(85893),h=["node","inline","className","children"];function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(Object(t),!0).forEach(function(r){(0,n.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var g=function(e){var r=e.content;return(0,x.jsx)(o.D,{children:r,rehypePlugins:[s.Z],remarkPlugins:[c.Z],components:{code:function(e){e.node;var r=e.inline,t=e.className,n=e.children,o=(0,i.Z)(e,h),s=/language-(\w+)/.exec(t||"");return!r&&s?(0,x.jsx)(a.Z,b(b({},o),{},{children:String(n).replace(/\n$/,""),style:l.vk,language:s[1],PreTag:"div"})):(0,x.jsx)("code",b(b({},o),{},{className:t,children:n}))},img:function(e){var r=e.src,t=e.alt;return(0,x.jsx)(f.TV,{maskOpacity:.7,loadingElement:(0,x.jsx)(d.ZP,{children:"加载中..."}),children:(0,x.jsx)(f.HI,{src:r,children:(0,x.jsx)(u.ZP,{showSkeleton:!0,src:r,alt:t,loading:"lazy",objectFit:"cover",css:{cursor:"pointer",maxHeight:"320px",borderRadius:"5px",padding:"2px"}})})},t)},a:function(e){var r=e.href,t=e.children,n=e.target;return(0,x.jsx)(p.ZP,{href:r,target:n,underline:!0,isExternal:!0,children:t&&t[0]})}}})}},53578:function(e,r,t){"use strict";var n=t(67294),i=t(86979),o=t(52914),s=t.n(o),c=t(85893);r.Z=function(e){var r=e.tabs,t=e.onProxy,o=(0,n.useState)(0),a=o[0],l=o[1],d=(0,n.useState)({}),u=d[0],p=d[1];(0,n.useEffect)(function(){p({left:"".concat(100*a+10,"px")})},[a]);var f=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;l(e),t("switch",r)};return(0,c.jsxs)("div",{className:s()["k-tabs"],children:[(0,c.jsx)("div",{className:s()["k-tabs-line"],style:u}),(0,c.jsx)("ul",{className:s()["k-tabs-main"],children:r&&r.map(function(e,r){return(0,c.jsx)("li",{className:s()["".concat(a===r?"k-tabs-tab-active":"")],onClick:function(){return f(r,e.code)},children:(0,c.jsx)(i.Z,{span:!0,children:e.title})},r)})})]})}},97566:function(e,r,t){"use strict";t.d(r,{B:function(){return l}});var n=t(43950),i=t(25675),o=t.n(i),s=t(22893),c=t.n(s),a=t(85893),l=function(e){var r=e.content,t=e.header,i=e.cover,s=e.hiddenProgress;return(0,a.jsxs)("div",{className:c()["k-top"],children:[(0,a.jsxs)("div",{className:"".concat(c()["k-top-cover"]," ").concat(t?c()["k-top-cover-has"]:""),children:[(0,a.jsx)(o(),{className:c()["k-top-cover"],fill:!0,sizes:"100%",src:i||"https://cdn.staticaly.com/gh/pixlips/picx-images-hosting@master/next/UwkpdyfvRr1nVKj.13dp8z42m4zk.webp",alt:"kasuie page cover",style:{objectFit:"cover"}}),t]}),(0,a.jsxs)("div",{className:c()["k-top-main"],children:[r,!(void 0!==s&&s)&&(0,a.jsx)(n.ZP,{color:"primary",size:"xs",value:100,css:{margin:"20px 0"}})]})]})}},99082:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSP:function(){return m},default:function(){return b}});var n=t(76687),i=t(50889),o=t(43165),s=t(95516),c=t(67294),a=t(63437),l=t(18246),d=t(29754),u=t(53578),p=t(9008),f=t.n(p),x=t(40077),h=t(85893),m=!0;function b(e){var r=e.statistics,t=e.links,p=(0,c.useState)(1),m=p[0],b=p[1],g=(0,c.useState)([]),k=g[0],j=g[1],v=(0,c.useState)(!1),y=(v[0],v[1]);(0,c.useEffect)(function(){t&&j(t)},[t]);var _=(0,c.useState)([{title:"友情链接",code:1},{title:"失联中",code:2}]),P=_[0],Z=_[1];return(0,c.useEffect)(function(){var e=x.Z.l.get("user",!0);e&&e.level>2&&2===P.length&&Z([].concat((0,n.Z)(P),[{title:"申请列表",code:0}]))},[]),(0,h.jsxs)("div",{children:[(0,h.jsxs)(f(),{children:[(0,h.jsx)("title",{children:"友链"}),(0,h.jsx)("meta",{name:"description",content:"KASUIEの次元，友情链接"})]}),(0,h.jsx)(i.A,{statistics:r,sider:(0,h.jsx)(a.o,{statistics:r}),content:(0,h.jsxs)(o.Z,{sm:!0,children:[(0,h.jsx)(d.L,{coverProps:{hiddenProgress:!0,cover:"https://cdn.staticaly.com/gh/pixlips/picx-images-hosting@master/next/MukaEnd.6ca7say1bkg0.webp"},isLinkPage:!0}),(0,h.jsx)(u.Z,{tabs:P,onProxy:function(e,r){"submit"===e||"delete"===e?y(!0):"switch"===e&&(r!=m&&s.WY.get("/api/friend/friends",{status:r}).then(function(e){e.success&&j(e.data)}),b(r))}}),(0,h.jsx)("div",{style:{display:"flex",gap:"10px",padding:"36px 0",justifyContent:"space-between",flexWrap:"wrap"},children:k&&k.map(function(e,r){return(0,h.jsx)(l.k,{link:e},r)})})]})})]})}},41465:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/link",function(){return t(99082)}])},17055:function(e){e.exports={"k-about-content":"index_k-about-content__f_Uq1"}},9594:function(e){e.exports={"k-link-card":"index_k-link-card__qDDar","k-link-card-info":"index_k-link-card-info__jig8g","k-link-card-desc":"index_k-link-card-desc__i9rkr","k-link-card-img-hover":"index_k-link-card-img-hover___qlU3","k-link-card-info-hover":"index_k-link-card-info-hover__KWpRC","k-link-card-info-enter":"index_k-link-card-info-enter__BLf25"}},52914:function(e){e.exports={"k-tabs":"index_k-tabs__9i_RG","k-tabs-line":"index_k-tabs-line__hyxfy","k-tabs-main":"index_k-tabs-main__VW_z9","k-tabs-tab-active":"index_k-tabs-tab-active__Lgm4_"}},22893:function(e){e.exports={"k-top":"index_k-top__JCoCl","k-top-cover":"index_k-top-cover__qh5tO","k-top-cover-has":"index_k-top-cover-has__LhE1J","k-top-main":"index_k-top-main__hAbdV"}},9008:function(e,r,t){e.exports=t(16505)},76687:function(e,r,t){"use strict";function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function i(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return n(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n(e,r)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.d(r,{Z:function(){return i}})}},function(e){e.O(0,[4885,765,1187,8250,7952,8893,7851,9774,2888,179],function(){return e(e.s=41465)}),_N_E=e.O()}]);