(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4644],{1465:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/link",function(){return s(4683)}])},375:function(e,t,s){"use strict";s.d(t,{L:function(){return _}});var r=s(5893),l=s(6193),i=s(5650),n=s(6979),o=s(8250),a=s(9372),c=s(4017),d=s(7690),u=s(7501),x=s(5118),p=s(8977),h=s(7055),m=s.n(h),k=s(7294),b=s(1899),f=s(647),g=s(5152),j=s.n(g);let _=e=>{let{isLinkPage:t=!1,coverProps:h={}}=e,[g,_]=(0,k.useState)(!1),[v,Z]=(0,k.useState)(!1),[P,y]=(0,k.useState)(!1),N=j()(async()=>(await s.e(7557).then(s.bind(s,7557))).EmailOutline,{loadableGenerated:{webpack:()=>[7557]}}),[w,A]=(0,k.useState)({blogName:"",blogAddress:"",pictureAddress:"",email:"",detail:""}),C=()=>{_(!0),console.log("add>>>>>")},z=()=>{_(!1)},S=()=>{if(y(!0),w.email&&!E(w.email))return b.ZP.error("请检查邮箱格式~");w.blogName&&w.blogAddress&&w.pictureAddress&&(Z(!0),y(!1),f.WY.post("/api/friend/save",w).then(e=>{e.success?(b.ZP.success("提交成功，请确保自己网站已添加本站为友链哦~"),_(!1)):b.ZP.error(e.message),Z(!1)}).catch(()=>Z(!1)))},E=e=>e.match(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}$/i),W=(0,k.useMemo)(()=>{if(!w.email)return{text:"",color:""};let e=E(w.email);return{text:e&&!P?"":"邮箱格式不正确",color:e&&!P?"primary":"error"}},[w.email,P]),L=(0,k.useMemo)(()=>w.blogAddress||P?{text:w.blogAddress?"":"请输入友链地址",color:w.blogAddress?"primary":"error"}:{text:"",color:""},[w.blogAddress,P]),T=(0,k.useMemo)(()=>w.blogName||P?{text:w.blogName?"":"请输入友链名称",color:w.blogName?"primary":"error"}:{text:"",color:""},[w.blogName,P]),q=(0,k.useMemo)(()=>w.pictureAddress||P?{text:w.pictureAddress?"":"请输入友链图标地址",color:w.pictureAddress?"primary":"error"}:{text:"",color:""},[w.pictureAddress,P]);return(0,r.jsx)(p.B,{...h,content:(0,r.jsxs)("div",{className:m()["k-about-content"],children:[!t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h4",{children:"Tips："}),(0,r.jsx)("p",{children:"请使用真实的邮箱，不要打广告，引流什么的，一旦发现会被删除的，谢谢。"})]}),(0,r.jsxs)("p",{children:["友链添加：",(0,r.jsx)(l.ZP,{onPress:()=>C(),css:{margin:"0 10px 0 0"},children:"请戳此处"}),"输入友链信息提交即可。请注意提交时请在自己网站把本站添加为友链哦~"]}),(0,r.jsx)(x.J,{className:m()["k-about-main-markdown"],content:"\n        blogName: 'KASUIEの次元'  #网站的名称\n        blogAddress: 'https://kasuie.top' #网站的地址\n        pictureAddress: 'https://i.loli.net/2020/11/19/hY1NXDLvmkRptTi.jpg' #网站的图标/或你的头像\n        detail: '喜欢温柔的人' #网站的描述\n    "}),!t&&(0,r.jsx)("p",{children:"私信：你可以在PC端左侧查看到我的联系方式，或者在下方留言并勾选“私密评论”。"}),(0,r.jsxs)(i.ZP,{closeButton:!0,blur:!0,preventClose:!0,"aria-labelledby":"apply filendlink",width:"500px",open:g,onClose:z,css:{maxWidth:"94vw",margin:"0 auto"},children:[(0,r.jsx)(i.ZP.Header,{children:(0,r.jsx)(n.Z,{size:18,children:"友链信息"})}),(0,r.jsxs)(i.ZP.Body,{css:{gap:"$sm"},children:[(0,r.jsx)(o.ZP,{required:!0,clearable:!0,bordered:!0,fullWidth:!0,"aria-labelledby":"modal-title",size:"lg",placeholder:"友链名称",status:T.color,color:T.color,helperColor:T.color,helperText:T.text,onChange:e=>{A({...w,blogName:e.target.value})}}),(0,r.jsx)(o.ZP,{required:!0,clearable:!0,bordered:!0,fullWidth:!0,"aria-labelledby":"modal-title",size:"lg",placeholder:"友链地址",status:L.color,color:L.color,helperColor:L.color,helperText:L.text,onChange:e=>{A({...w,blogAddress:e.target.value})}}),(0,r.jsx)(o.ZP,{required:!0,clearable:!0,bordered:!0,fullWidth:!0,"aria-labelledby":"modal-title",size:"lg",placeholder:"友链图标",status:q.color,color:q.color,helperColor:q.color,helperText:q.text,contentLeft:w.pictureAddress&&(0,r.jsx)(a.ZP,{size:"sm",src:w.pictureAddress,pointer:!0}),onBlur:e=>{A({...w,pictureAddress:e.target.value})}}),(0,r.jsx)(o.ZP,{required:!0,clearable:!0,bordered:!0,fullWidth:!0,size:"lg",placeholder:"联系邮箱（非必填，添加成功后会发邮件给你）",status:W.color,color:W.color,helperColor:W.color,helperText:W.text,"aria-labelledby":"modal-title",contentLeft:(0,r.jsx)(N,{}),onChange:e=>{y(!1),A({...w,email:e.target.value})}}),(0,r.jsx)(c.Z,{required:!0,bordered:!0,fullWidth:!0,maxLength:100,color:"primary",size:"lg","aria-labelledby":"modal-title",placeholder:"友链描述",onChange:e=>{A({...w,detail:e.target.value})},minRows:2,maxRows:5})]}),(0,r.jsxs)(i.ZP.Footer,{justify:"flex-end",children:[(0,r.jsx)(d.ZP,{auto:!0,flat:!0,color:"error",onPress:()=>_(!1),children:"关闭"}),(0,r.jsx)(d.ZP,{auto:!0,onPress:()=>S(),icon:v&&(0,r.jsx)(u.ZP,{color:"currentColor",size:"xs"}),children:"提交"})]})]})]})})}},8513:function(e,t,s){"use strict";s.d(t,{k:function(){return p}});var r=s(5893),l=s(6193),i=s(6979),n=s(9372),o=s(7294),a=s(9594),c=s.n(a),d=s(647),u=s(1899),x=s(5838);let p=e=>{let{link:t}=e,[s,a]=(0,o.useState)(!1),p=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(r){let t=x.Z.l.get("user",!0);t&&t.level>1?d.WY.postQs("/api/friend/status",{id:e,status:1,notice:!0}).then(e=>{u.ZP.success(e.message)}):u.ZP.error("权限不足")}else s&&e&&t?window.open(t,"_blank"):e&&t?(d.WY.postQs("/api/friend/view",{id:e}).then(()=>{window.open(t,"_blank")}).catch(()=>window.open(t,"_blank")),a(!0)):u.ZP.info("缺少关键信息，跳转失败~")};return(0,r.jsxs)("div",{className:c()["k-link-card"],children:[(0,r.jsxs)("div",{className:c()["k-link-card-info-hover"],children:[(0,r.jsx)("i",{className:c()["k-link-card-info-like"]}),(0,r.jsx)(l.ZP,{className:c()["k-link-card-info-enter"],color:"primary",isExternal:!0,css:{fontSize:"14px"},onPress:()=>p(t.id,t.blogAddress,0===t.status),children:0===t.status?"审批通过":"点击前往"})]}),(0,r.jsx)(i.Z,{className:c()["k-link-card-desc"],children:t.detail}),(0,r.jsx)("div",{className:c()["k-link-card-img-hover"],style:{backgroundImage:"url('".concat(t.pictureAddress,"')")}}),(0,r.jsxs)("div",{className:c()["k-link-card-info"],onClick:()=>p(t.id,t.blogAddress),children:[2!=t.status&&(0,r.jsx)(n.ZP,{size:"md",src:t.pictureAddress,color:"primary",bordered:!0,zoomed:!0,pointer:!0}),(0,r.jsx)(i.Z,{children:t.blogName})]})]})}},5118:function(e,t,s){"use strict";s.d(t,{J:function(){return k}});var r=s(5893),l=s(1157),i=s(5146),n=s(6199),o=s(2687),a=s(7501),c=s(9837),d=s(6193),u=s(1455),x=s(3944);s(2428);var p=s(7294),h=s(9927);function m(e){let t=(0,p.useRef)(null);return(0,r.jsxs)("pre",{ref:t,children:[(0,r.jsx)("span",{className:"k-copy-code",onClick:()=>{if(t.current){let e=t.current.innerText;(0,h.vQ)(e)}},title:"copy",children:(0,r.jsx)(x.C,{size:16})}),e.children]})}let k=e=>{let{content:t}=e;return(0,r.jsx)(l.D,{className:"k-markdown",children:t,rehypePlugins:[i.Z,[o.Z,{detect:!1,ignoreMissing:!0}]],remarkPlugins:[n.Z],components:{pre:m,img:e=>{let{src:t,alt:s}=e;return(0,r.jsx)(u.TV,{maskOpacity:.7,loadingElement:(0,r.jsx)(a.ZP,{children:"加载中..."}),children:(0,r.jsx)(u.HI,{src:t,children:(0,r.jsx)(c.ZP,{showSkeleton:!0,src:t,alt:s,loading:"lazy",objectFit:"cover",css:{cursor:"pointer",maxHeight:"320px",borderRadius:"5px",padding:"2px"}})})},s)},a:e=>{let{href:t,children:s,target:l}=e;return(0,r.jsx)(d.ZP,{href:t,target:l,underline:!0,isExternal:!0,children:s&&s[0]})}}})}},3050:function(e,t,s){"use strict";var r=s(5893),l=s(7294),i=s(6979),n=s(2914),o=s.n(n);t.Z=function(e){let{tabs:t,onProxy:s}=e,[n,a]=(0,l.useState)(0),[c,d]=(0,l.useState)({});(0,l.useEffect)(()=>{d({left:"".concat(100*n+10,"px")})},[n]);let u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(e),s("switch",t)};return(0,r.jsxs)("div",{className:o()["k-tabs"],children:[(0,r.jsx)("div",{className:o()["k-tabs-line"],style:c}),(0,r.jsx)("ul",{className:o()["k-tabs-main"],children:t&&t.map((e,t)=>(0,r.jsx)("li",{className:o()["".concat(n===t?"k-tabs-tab-active":"")],onClick:()=>u(t,e.code),children:(0,r.jsx)(i.Z,{span:!0,children:e.title})},t))})]})}},8977:function(e,t,s){"use strict";s.d(t,{B:function(){return c}});var r=s(5893),l=s(3950),i=s(5675),n=s.n(i),o=s(2893),a=s.n(o);let c=e=>{let{content:t,header:s,cover:i,hiddenProgress:o=!1}=e;return(0,r.jsxs)("div",{className:a()["k-top"],children:[(0,r.jsxs)("div",{className:"".concat(a()["k-top-cover"]," ").concat(s?a()["k-top-cover-has"]:""),children:[(0,r.jsx)(n(),{className:a()["k-top-cover"],fill:!0,sizes:"100%",src:i||"https://cdn.staticaly.com/gh/pixlips/picx-images-hosting@master/next/UwkpdyfvRr1nVKj.13dp8z42m4zk.webp",alt:"kasuie page cover",style:{objectFit:"cover"}}),s]}),(0,r.jsxs)("div",{className:a()["k-top-main"],children:[t,!o&&(0,r.jsx)(l.ZP,{color:"primary",size:"xs",value:100,css:{margin:"20px 0"}})]})]})}},4683:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return m},default:function(){return k}});var r=s(5893),l=s(2459),i=s(3165),n=s(647),o=s(7294),a=s(1158),c=s(8513),d=s(375),u=s(3050),x=s(9008),p=s.n(x),h=s(5838),m=!0;function k(e){let{statistics:t,links:s}=e,[x,m]=(0,o.useState)(1),[k,b]=(0,o.useState)([]),[f,g]=(0,o.useState)(!1);(0,o.useEffect)(()=>{s&&b(s)},[s]);let[j,_]=(0,o.useState)([{title:"友情链接",code:1},{title:"失联中",code:2}]);(0,o.useEffect)(()=>{let e=h.Z.l.get("user",!0);e&&e.level>2&&2===j.length&&_([...j,{title:"申请列表",code:0}])},[]);let v=(e,t)=>{"submit"===e||"delete"===e?g(!0):"switch"===e&&(t!=x&&n.WY.get("/api/friend/friends",{status:t}).then(e=>{e.success&&b(e.data)}),m(t))};return(0,r.jsxs)("div",{children:[(0,r.jsxs)(p(),{children:[(0,r.jsx)("title",{children:"友链 \uD83C\uDF80"}),(0,r.jsx)("meta",{name:"description",content:"KASUIEの次元，友情链接"})]}),(0,r.jsx)(l.A,{statistics:t,sider:(0,r.jsx)(a.o,{statistics:t}),content:(0,r.jsxs)(i.Z,{sm:!0,children:[(0,r.jsx)(d.L,{coverProps:{hiddenProgress:!0,cover:"https://cdn.staticaly.com/gh/pixlips/picx-images-hosting@master/next/MukaEnd.6ca7say1bkg0.webp"},isLinkPage:!0}),(0,r.jsx)(u.Z,{tabs:j,onProxy:v}),(0,r.jsx)("div",{style:{display:"flex",gap:"10px",padding:"36px 0",justifyContent:"space-between",flexWrap:"wrap"},children:k&&k.map((e,t)=>(0,r.jsx)(c.k,{link:e},t))})]})})]})}},7055:function(e){e.exports={"k-about-content":"index_k-about-content__f_Uq1"}},9594:function(e){e.exports={"k-link-card":"index_k-link-card__qDDar","k-link-card-info":"index_k-link-card-info__jig8g","k-link-card-desc":"index_k-link-card-desc__i9rkr","k-link-card-img-hover":"index_k-link-card-img-hover___qlU3","k-link-card-info-hover":"index_k-link-card-info-hover__KWpRC","k-link-card-info-enter":"index_k-link-card-info-enter__BLf25"}},2914:function(e){e.exports={"k-tabs":"index_k-tabs__9i_RG","k-tabs-line":"index_k-tabs-line__hyxfy","k-tabs-main":"index_k-tabs-main__VW_z9","k-tabs-tab-active":"index_k-tabs-tab-active__Lgm4_"}},2893:function(e){e.exports={"k-top":"index_k-top__JCoCl","k-top-cover":"index_k-top-cover__qh5tO","k-top-cover-has":"index_k-top-cover-has__LhE1J","k-top-main":"index_k-top-main__hAbdV"}},9008:function(e,t,s){e.exports=s(3121)}},function(e){e.O(0,[1359,8250,7952,6222,102,6746,9774,2888,179],function(){return e(e.s=1465)}),_N_E=e.O()}]);